<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>"Week12 64070086</title>
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>

  <body>
    <div class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a href="#" class="navbar-brand">Lab12 Tic Tac Toe</a>
        <div class="logged-out">
          <button
            id="btnSignUP"
            data-bs-toggle="modal"
            data-bs-target="#modal-signup"
            class="btn btn-outline-light"
          >
            <i class="bi bi-person-plus-fill"></i>
            Sign Up
          </button>
          <button
            id="btnLogIn"
            data-bs-toggle="modal"
            data-bs-target="#modal-login"
            class="btn btn-outline-light"
          >
            <i class="bi bi-person-plus-fill"></i>
            Log In
          </button>
        </div>

        <div class="logged-in">
          <span id="user-profile" class="display-name text-white"></span>
          <span class="display-name text-white"
            >( <span id="user-score">0</span> )
          </span>
        </div>

        <button id="btnLogOut" class="btn btn-outline-light logged-in">
          <i class="bi bi-box-arrow-right"></i>
          Log Out
        </button>
      </div>
    </div>

    <div class="modal" id="modal-login" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Log in</h5>
            <button
              type="button"
              class="btn-close btn-cancel"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form action="" id="login-form">
              <input
                type="email"
                class="form-control"
                id="input-email-login"
                placeholder="email"
                required
              />
              <br />
              <input
                type="password"
                class="form-control"
                id="input-password-login"
                placeholder="password"
                required
              />
              <p id="feedback-msg-login"></p>

              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary btn-cancel"
                  data-bs-dismiss="modal"
                >
                  Cancel
                </button>
                <button type="submit" class="btn btn-primary">Login</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="modal-signup" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Sign up</h5>
            <button
              type="button"
              class="btn-close btn-cancel"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form action="" id="signup-form">
              <input
                type="email"
                class="form-control"
                id="input-email-signup"
                placeholder="email"
                required
              />
              <br />
              <input
                type="password"
                class="form-control"
                id="input-password-signup"
                placeholder="password"
                required
              />
              <p id="feedback-msg-signup"></p>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary btn-cancel"
                  data-bs-dismiss="modal"
                >
                  Cancle
                </button>
                <button type="submit" class="btn btn-primary">Signup</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="display-1 text-center my-3">Tic-Tac-Toe</div>

    <div class="w-full d-flex justify-content-center">
      <div class="container mx-auto">
        <div class="logged-in">
          <form id="formX" class="form-inline row">
            <div class="form-group mb-2 row col-10">
              <label for="inputPlayer-x" class="col-form-labe col-2"
                >Player X:</label
              >
              <div class="col-8">
                <input
                  readonly
                  type="text"
                  class="form-control"
                  id="inputPlayer-x"
                  placeholder="Player X"
                />
              </div>
            </div>
            <div class="form-group mb-2 col-2">
              <button
                type="button"
                id="btnJoin-x"
                class="btn btn-primary btn-join"
              >
                Join
              </button>
              <button
                type="button"
                id="btnCancel-x"
                class="btn btn-secondary btn-cancel-join-game"
              >
                Cancel
              </button>
            </div>
          </form>

          <form id="formO" class="form-inline row">
            <div class="form-group mb-2 row col-10">
              <label for="inputPlayer-o" class="col-form-labe col-2"
                >Player O:</label
              >
              <div class="col-8">
                <input
                  readonly
                  type="text"
                  class="form-control"
                  id="inputPlayer-o"
                  placeholder="Player o"
                />
              </div>
            </div>
            <div class="form-group mb-2 col-2">
              <button
                type="button"
                id="btnJoin-o"
                class="btn btn-primary btn-join"
              >
                Join
              </button>
              <button
                type="button"
                id="btnCancel-o"
                class="btn btn-secondary btn-cancel-join-game"
              >
                Cancel
              </button>
            </div>
          </form>

          <div
            id="btnSection"
            class="container d-flex justify-content-center mb-2"
          >
            <button
              type="button"
              id="btnStartGame"
              class="btn btn-success mx-1 logged-in"
            >
              START GAME
            </button>
            <button
              type="button"
              id="btnTerminateGame"
              class="btn btn-warning mx-1 logged-in"
            >
              END GAME
            </button>
          </div>
        </div>


        <div class="text-center my-4 logged-out">Waiting for players...</div>
        <div id="status" class="text-center my-4 logged-in">Waiting for players...</div>

        <div class="container mb-2" id="board">
          <div class="row" id="row-1">
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-1-col-1"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-1-col-2"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-1-col-3"
            ></div>
          </div>
          <div class="row" id="row-2">
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-2-col-1"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-2-col-2"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-2-col-3"
            ></div>
          </div>
          <div class="row" id="row-3">
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-3-col-1"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-3-col-2"
            ></div>
            <div
              class="col border display-4 d-flex justify-content-center align-items-center table-col p-4"
              id="row-3-col-3"
            ></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyDQ0fi7K99aiD2pnfMYDp-weiSuqt2IZps",
        authDomain: "web-design-javascript-la-e21fa.firebaseapp.com",
        databaseURL: "https://web-design-javascript-la-e21fa-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "web-design-javascript-la-e21fa",
        storageBucket: "web-design-javascript-la-e21fa.appspot.com",
        messagingSenderId: "457666424878",
        appId: "1:457666424878:web:a378a3d9733554d88e2fbf",
        measurementId: "G-KMCL9F9V9B"
      };
      firebase.initializeApp(firebaseConfig)
    </script>
    <script src="insert_data.js"></script>
    <script src="read_data.js"></script>
    <script type="text/javascript" src="auth.js"></script>
    <script type="text/javascript" src="game.js"></script>
  </body>
</html>
